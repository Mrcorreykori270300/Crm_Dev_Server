
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Customer Survey</title>
    <!-- Plugin styles -->
    <link rel="stylesheet" href="~/assets/css/style.css" type="text/css">
    <!-- select2 css -->
    <link rel="stylesheet" href="~/assets/css/plugins/select2.min.css">

    <style>
        .not-show {
            display: block;
        }

        .validation-summary-errors li {
            color: #fff !important;
            margin-left: 84px;
        }

        .msg {
            color: #fff !important;
            margin-left: 84px;
        }

        .uppercase {
            text-transform: uppercase;
        }



        input.input-text, select, textarea {
            background: #fff;
            border: 1px solid #000;
            padding: 2px 8px;
            height: 26px;
            color: #777;
            font-size: 13px;
            border-radius: 3px;
        }

        /*css*/

        a {
            color: tomato;
            text-decoration: none;
        }

            a:hover {
                color: #2196f3;
            }

        .pre {
            display: block;
            padding: 9.5px;
            margin: 0 0 10px;
            font-size: 13px;
            line-height: 1.42857143;
            color: #333;
            word-break: break-all;
            word-wrap: break-word;
            background-color: #F5F5F5;
            border: 1px solid #CCC;
            border-radius: 4px;
        }

        .new-react-version {
            padding: 20px 20px;
            border: 1px solid #eee;
            border-radius: 20px;
            box-shadow: 0 2px 12px 0 rgba(0,0,0,0.1);
            text-align: center;
            font-size: 14px;
            line-height: 1.7;
        }

            .new-react-version .react-svg-logo {
                text-align: center;
                max-width: 60px;
                margin: 20px auto;
                margin-top: 0;
            }





        .success-box1 {
            padding: 10px 10px;
            border: 1px solid #eee;
            background: #f9f9f9;
            display: none;
        }

            .success-box1 img {
                margin-right: 10px;
                display: inline-block;
                vertical-align: top;
            }

            .success-box1 > div {
                vertical-align: top;
                display: inline-block;
                color: #888;
            }

        .success-box2 {
            padding: 10px 10px;
            border: 1px solid #eee;
            background: #f9f9f9;
            display: none;
        }

            .success-box2 img {
                margin-right: 10px;
                display: inline-block;
                vertical-align: top;
            }

            .success-box2 > div {
                vertical-align: top;
                display: inline-block;
                color: #888;
            }

        .success-box3 {
            padding: 10px 10px;
            border: 1px solid #eee;
            background: #f9f9f9;
            display: none;
        }

            .success-box3 img {
                margin-right: 10px;
                display: inline-block;
                vertical-align: top;
            }

            .success-box3 > div {
                vertical-align: top;
                display: inline-block;
                color: #888;
            }

        /* Rating Star Widgets Style */
        .rating-stars ul {
            list-style-type: none;
            padding: 0;
            -moz-user-select: none;
            -webkit-user-select: none;
        }

            .rating-stars ul > li.star {
                display: inline-block;
            }

                /* Idle State of the stars */
                .rating-stars ul > li.star > i.fa {
                    font-size: 2.5em; /* Change the size of the stars */
                    color: #ccc; /* Color on idle state */
                }

                /* Hover state of the stars */
                .rating-stars ul > li.star.hover > i.fa {
                    color: #FFCC36;
                }

                /* Selected state of the stars */
                .rating-stars ul > li.star.selected > i.fa {
                    color: #FF912C;
                }

        .required {
            color: #000;
        }
    </style>

</head>
<body>
    <div class="auth-wrapper">
        <div class="auth-content" style="width:1000px;">
            <div class="card">
                <div class="row">
                    <div class="col-md-12">
                        @if (ViewBag.cnt == 1)
            {
                            <div class="card-body">
                                <div class="form-row">
                                    <div class="col-sm-12">
                                        <img class="img-fluid mb-4" src="~/assets/images/logo-L.png" alt="image">
                                        <div class="form-row text-center" style="margin-top: -20px;">
                                        </div>
                                        <div class="form-row text-center">
                                            <h5 class="mt-3 text-center text-primary"> You Rated Us  @TempData["CsatRating"] / 5 </h5>
                                            <h5 class="mt-3 text-center text-primary">" Appreciate for your valuable feedback. We constantly keep on working for better service for your convenience and enhanced satisfaction level."  Please do reach out to our support team for further details.</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        }
                        else
                        {
                            <div class="card-body">

                                <div class="row">
                                    <div class="col-sm-12">
                                        @using (Html.BeginForm("CSAT", "Transaction", FormMethod.Post, new { enctype = "multipart/form-data", role = "form" }))
                                        {
                                            @Html.AntiForgeryToken()
                                            @Html.ValidationSummary("", new { @class = "text-danger" })
                                            <input type="hidden" name="TicketNo" value="@ViewBag.Ticket">

                                            <input type="hidden" name="Q1" id="Q1">
                                            <input type="hidden" name="Q2" id="Q2">
                                            <input type="hidden" name="Q3" id="Q3">
                                            <input type="hidden" name="Q4" id="Q4">
                                            <input type="hidden" name="Q5" id="Q5">

                                            <img class="img-fluid mb-4" src="~/assets/images/logo-L.png" alt="image">
                                            <div class="form-row text-center" style="margin-top: -20px;">
                                            </div>
                                            <div class="form-row text-center" style="margin-top: -20px;">
                                                <h5 class="mb-3 f-w-400 text-center" style="text-align: center; color: #000000;">Customer satisfaction index  for   case no <b>@ViewBag.caseno</b>  and inwinteck ticket no.<b>@ViewBag.inwinteck</b></h5>
                                            </div>


                                            <div class="form-row" style="margin-top: -15px;">
                                                <label class="required" style="line-height: 20px;">Dear Customer, thank you for giving us an opportunity to serve you. Please share your valuable feedback with us (1 Star being the lowest and 5 Star being the highest)<br></label>
                                            </div>

                                            <div class="form-row">
                                                <label for="cust_cont" class="required">1. Engineer Response time ?</label>
                                                <div class="input-box col-sm-12 col-xs-12">
                                                    <section class="rating-widget">
                                                        <!-- Rating Stars Box -->
                                                        <div class='rating-stars'>
                                                            <ul id='stars1'>
                                                                <li class='star' title='Poor' data-value='1'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Fair' data-value='2'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Good' data-value='3'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Excellent' data-value='4'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='WOW!!!' data-value='5'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </section>
                                                </div>

                                                <label for="cust_name" class="required">2. Technical know how?</label>
                                                <div class="input-box col-sm-12 col-xs-12">
                                                    <section class='rating-widget'>
                                                        <!-- Rating Stars Box -->
                                                        <div class='rating-stars'>
                                                            <ul id='stars2'>
                                                                <li class='star' title='Poor' data-value='1'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Fair' data-value='2'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Good' data-value='3'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Excellent' data-value='4'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='WOW!!!' data-value='5'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </section>
                                                </div>

                                            </div>

                                            <div class="form-row">
                                                <label for="prd_dop" class="required">3. Professionalism?</label>
                                                <div class="input-box col-sm-12 col-xs-12">
                                                    <section class='rating-widget'>

                                                        <!-- Rating Stars Box -->
                                                        <div class='rating-stars'>
                                                            <ul id='stars3'>
                                                                <li class='star' title='Poor' data-value='1'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Fair' data-value='2'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Good' data-value='3'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Excellent' data-value='4'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='WOW!!!' data-value='5'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </section>
                                                </div>
                                            </div>

                                            <div class="form-row">
                                                <label for="prd_dop" class="required">4. Communication?</label>
                                                <div class="input-box col-sm-12 col-xs-12">
                                                    <section class='rating-widget'>

                                                        <!-- Rating Stars Box -->
                                                        <div class='rating-stars'>
                                                            <ul id='stars4'>
                                                                <li class='star' title='Poor' data-value='1'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Fair' data-value='2'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Good' data-value='3'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Excellent' data-value='4'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='WOW!!!' data-value='5'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </section>
                                                </div>

                                            </div>

                                            <div class="form-row">
                                                <label for="prd_dop" class="required">5. Promptness?</label>
                                                <div class="input-box col-sm-12 col-xs-12">
                                                    <section class='rating-widget'>

                                                        <!-- Rating Stars Box -->
                                                        <div class='rating-stars'>
                                                            <ul id='stars5'>
                                                                <li class='star' title='Poor' data-value='1'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Fair' data-value='2'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Good' data-value='3'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='Excellent' data-value='4'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                                <li class='star' title='WOW!!!' data-value='5'>
                                                                    <i class='fa fa-star fa-fw'></i>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                    </section>
                                                </div>

                                            </div>

                                            <div class="form-row">
                                                <label for="cust_pincode" class="required">6. Suggestions / Remarks:</label>
                                                <textarea class="form-control" rows="3" name="Remarks" id="Remarks" placeholder="Remarks"></textarea>
                                            </div>


                                            <div class="form-row">

                                                <div class="input-box">
                                                    <button type="submit" title="Submit" id="sub" class="btn btn-primary btn-block mb-4">Submit</button>
                                                </div>
                                            </div>
                                        }

                                    </div>

                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- /.modal -->

    <script src="~/assets/js/vendor-all.min.js"></script>
    <script src="~/assets/js/plugins/bootstrap.min.js"></script>
    <script src="~/assets/js/ripple.js"></script>
    <script src="~/assets/js/pcoded.min.js"></script>
    <!-- select2 Js -->
    <script src="~/assets/js/plugins/select2.full.min.js"></script>
    <!-- form-select-custom Js -->
    <script src="~/assets/js/pages/form-select-custom.js"></script>
    <script src="~/assets/js/plugins/jquery.bootstrap.wizard.min.js"></script>
    @if (TempData["message"] != null)
    {
        <script type="text/javascript">

            window.onload = function () {
                $('#myModal').modal('show');
            };
        </script>
    }

    <script>
        $(document).ready(function () {


            $("#sub").click(function () {

                if ($("#Q1").val() != "" && $("#Q2").val() != "" && $("#Q3").val() != "" && $("#Q4").val() != "" && $("#Q5").val() != "") {
                    return true;
                }
                else {
                    alert("Please Rate all the Questions");
                    return false;
                }


            });
            /* 1. Visualizing things on Hover - See next part for action on click */
            $('#stars li').on('mouseover', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently mouse on

                // Now highlight all the stars that's not after the current hovered star
                $(this).parent().children('li.star').each(function (e) {
                    if (e < onStar) {
                        $(this).addClass('hover');
                    }
                    else {
                        $(this).removeClass('hover');
                    }
                });

            }).on('mouseout', function () {
                $(this).parent().children('li.star').each(function (e) {
                    $(this).removeClass('hover');
                });
            });


            /* 2. Action to perform on click */
            $('#stars1 li').on('click', function () {

                var onStar = parseInt($(this).data('value'), 10); // The star currently selected
                var stars = $(this).parent().children('li.star');

                for (i = 0; i < stars.length; i++) {
                    $(stars[i]).removeClass('selected');
                }

                for (i = 0; i < onStar; i++) {
                    $(stars[i]).addClass('selected');
                }

                // JUST RESPONSE (Not needed)
                var ratingValue = parseInt($('#stars1 li.selected').last().data('value'), 10);
                //var msg = "";
                //if (ratingValue > 1) {
                //    msg = "Thanks! You rated this " + ratingValue + " stars.";
                //}
                //else {
                //    msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
                //}
                //$('.success-box1').fadeIn(200);
                //$('.success-box1 div.text-message').html("<span>" + msg + "</span>");

                $("#Q1").val(ratingValue);

            });

            $('#stars2 li').on('click', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently selected
                var stars = $(this).parent().children('li.star');

                for (i = 0; i < stars.length; i++) {
                    $(stars[i]).removeClass('selected');
                }

                for (i = 0; i < onStar; i++) {
                    $(stars[i]).addClass('selected');
                }

                // JUST RESPONSE (Not needed)
                var ratingValue = parseInt($('#stars2 li.selected').last().data('value'), 10);
                //var msg = "";
                //if (ratingValue > 1) {
                //    msg = "Thanks! You rated this " + ratingValue + " stars.";
                //}
                //else {
                //    msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
                //}
                //$('.success-box2').fadeIn(200);
                //$('.success-box2 div.text-message').html("<span>" + msg + "</span>");

                $("#Q2").val(ratingValue);

            });

            $('#stars3 li').on('click', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently selected
                var stars = $(this).parent().children('li.star');

                for (i = 0; i < stars.length; i++) {
                    $(stars[i]).removeClass('selected');
                }

                for (i = 0; i < onStar; i++) {
                    $(stars[i]).addClass('selected');
                }

                // JUST RESPONSE (Not needed)
                var ratingValue = parseInt($('#stars3 li.selected').last().data('value'), 10);
                //var msg = "";
                //if (ratingValue > 1) {
                //    msg = "Thanks! You rated this " + ratingValue + " stars.";
                //}
                //else {
                //    msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
                //}

                //$('.success-box3').fadeIn(200);
                //$('.success-box3 div.text-message').html("<span>" + msg + "</span>");

                $("#Q3").val(ratingValue);

            });

            $('#stars4 li').on('click', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently selected
                var stars = $(this).parent().children('li.star');

                for (i = 0; i < stars.length; i++) {
                    $(stars[i]).removeClass('selected');
                }

                for (i = 0; i < onStar; i++) {
                    $(stars[i]).addClass('selected');
                }

                // JUST RESPONSE (Not needed)
                var ratingValue = parseInt($('#stars4 li.selected').last().data('value'), 10);
                //var msg = "";
                //if (ratingValue > 1) {
                //    msg = "Thanks! You rated this " + ratingValue + " stars.";
                //}
                //else {
                //    msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
                //}

                //$('.success-box3').fadeIn(200);
                //$('.success-box3 div.text-message').html("<span>" + msg + "</span>");

                $("#Q4").val(ratingValue);

            });

            $('#stars5 li').on('click', function () {
                var onStar = parseInt($(this).data('value'), 10); // The star currently selected
                var stars = $(this).parent().children('li.star');

                for (i = 0; i < stars.length; i++) {
                    $(stars[i]).removeClass('selected');
                }

                for (i = 0; i < onStar; i++) {
                    $(stars[i]).addClass('selected');
                }

                // JUST RESPONSE (Not needed)
                var ratingValue = parseInt($('#stars5 li.selected').last().data('value'), 10);
                //var msg = "";
                //if (ratingValue > 1) {
                //    msg = "Thanks! You rated this " + ratingValue + " stars.";
                //}
                //else {
                //    msg = "We will improve ourselves. You rated this " + ratingValue + " stars.";
                //}

                //$('.success-box3').fadeIn(200);
                //$('.success-box3 div.text-message').html("<span>" + msg + "</span>");

                $("#Q5").val(ratingValue);

            });
        });



    </script>
</body>

</html>
